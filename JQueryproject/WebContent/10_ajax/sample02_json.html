<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<script type="text/javascript" src="jquery-3.5.1.min.js"></script>
		<script type="text/javascript">
		
		$(function () {

 			$("#a").click(getDataA); // end button
 			$("#b").click(getDataB); // end button
 			
		}); // end doc
			
		function getDataA() {
				
			$.ajax({
					
				type:"get",	// get방식 요청
				url: "sample02_json.jsp",
				dataType:"json",	// 서버에서 응답타입(받는 데이터)
				success: function(data, status, xhr) {	
					var username = data.username;
					var age = data.age;
					console.log(username, age);
					$("#result").text(username + ":" + age);
				},
				error: function(xhr, status, e) {	
					$("#result").append("데이터 받지 못함");
					$("#result").append(status);
				}
				
			});// end ajax
				
		}// end getDataA
		
		function getDataB() {
			
			$.ajax({
					
				type:"get",	// get방식 요청
				url: "sample02_json.jsp",
				dataType:"text",	// 서버에서 응답타입(받는 데이터)
				success: function(data, status, xhr) {	
					var json_data = JSON.parse(data);
					var username = json_data.username;
					var age = json_data.age;
					console.log(username, age);
					$("#result").text(username + ":" + age);
				},
				error: function(xhr, status, e) {	
					$("#result").append("데이터 받지 못함");
					$("#result").append(status);
				}
				
			});// end ajax
				
		}// end getDataB
			
		</script>
	</head>
	<body>
		<button id="a">ajax요청</button>
		<button id="b">ajax요청</button>
		<div id="result"></div>
	</body>
</html>